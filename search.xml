<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[offset-aware与offset-navie轉換]]></title>
    <url>%2F2017%2F10%2F19%2F%E8%BD%89%E6%8F%9B%2F</url>
    <content type="text"><![CDATA[使用python的datetime做時間比較時，報錯1TypeError: can&apos;t compare offset-naive and offset-aware datetimes 这是因为两个时间不属于同一类型，offset-naive是不含时区的类型，而offset-aware是有时区类型，两者自然不能比较。 tzinfo 屬性我们可以通过判断datetime对象的tzinfo属性，来获悉他是何种类型1234567891011Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600 32 bit (Intel)] on win32Type "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import datetime&gt;&gt;&gt; now = datetime.datetime.now()&gt;&gt;&gt; nowdatetime.datetime(2017, 10, 19, 15, 55, 9, 457974)&gt;&gt;&gt; now.tzinfo&gt;&gt;&gt; now.tzinfo == NoneTrue&gt;&gt;&gt; tzinfo == None 為True時datetime為offset-naive，就是一個不含時區的datetime tzinfo轉換將offset-naive 轉換為 offset-aware123456789&gt;&gt;&gt; import pytz&gt;&gt;&gt; now = now.replace(tzinfo=pytz.timezone('UTC'))&gt;&gt;&gt; nowdatetime.datetime(2017, 10, 19, 15, 55, 9, 457974, tzinfo=&lt;UTC&gt;)&gt;&gt;&gt; now.tzinfo == NoneFalse&gt;&gt;&gt; now.tzinfo&lt;UTC&gt;&gt;&gt;&gt; offset-aware 轉換 offset-naive``` python import pytznow = now.replace(tzinfo=None)nowdatetime.datetime(2017, 10, 19, 15, 55, 9, 457974)now.tzinfo == NoneTruenow.tzinfo]]></content>
      <categories>
        <category>日常</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git常用命令]]></title>
    <url>%2F2017%2F10%2F19%2FGit%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[Git是目前世界上最先進的分佈式版本控制系統。在這記錄一些平時經常能用到的一些git命令 Git常用操作命令： 远程仓库相关命令检出仓库：$ git clone git://github.com/jquery/jquery.git 查看远程仓库：$ git remote -v 添加远程仓库：$ git remote add [name] [url] 删除远程仓库：$ git remote rm [name] 修改远程仓库：$ git remote set-url –push [name] [newUrl] 拉取远程仓库：$ git pull [remoteName] [localBranchName] 推送远程仓库：$ git push [remoteName] [localBranchName] *如果想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支，如下： $git push origin test:master // 提交本地test分支作为远程的master分支 $git push origin test:test // 提交本地test分支作为远程的test分支 分支(branch)操作相关命令查看本地分支：$ git branch 查看远程分支：$ git branch -r 创建本地分支：$ git branch [name] —-注意新分支创建后不会自动切换为当前分支 切换分支：$ git checkout [name] 创建新分支并立即切换到新分支：$ git checkout -b [name] 删除分支：$ git branch -d [name] —- -d选项只能删除已经参与了合并的分支，对于未有合并的分支是无法删除的。如果想强制删除一个分支，可以使用-D选项 合并分支：$ git merge [name] —-将名称为[name]的分支与当前分支合并 创建远程分支(本地分支push到远程)：$ git push origin [name] 删除远程分支：$ git push origin :heads/[name] 或 $ gitpush origin :[name] *创建空的分支：(执行命令之前记得先提交你当前分支的修改，否则会被强制删干净没得后悔) $git symbolic-ref HEAD refs/heads/[name] $rm .git/index $git clean -fdx 版本(tag)操作相关命令查看版本：$ git tag 创建版本：$ git tag [name] 删除版本：$ git tag -d [name] 查看远程版本：$ git tag -r 创建远程版本(本地版本push到远程)：$ git push origin [name] 删除远程版本：$ git push origin :refs/tags/[name] 合并远程仓库的tag到本地：$ git pull origin –tags 上传本地tag到远程仓库：$ git push origin –tags 创建带注释的tag：$ git tag -a [name] -m ‘yourMessage’ 子模块(submodule)相关操作命令添加子模块：$ git submodule add [url] [path] 如：$git submodule add git://github.com/soberh/ui-libs.git src/main/webapp/ui-libs 初始化子模块：$ git submodule init —-只在首次检出仓库时运行一次就行 更新子模块：$ git submodule update —-每次更新或切换分支后都需要运行一下 删除子模块：（分4步走哦） 1) $ git rm –cached [path] 2) 编辑“.gitmodules”文件，将子模块的相关配置节点删除掉 3) 编辑“ .git/config”文件，将子模块的相关配置节点删除掉 4) 手动删除子模块残留的目录 忽略一些文件、文件夹不提交在仓库根目录下创建名称为“.gitignore”的文件，写入不需要的文件夹名或文件，每个元素占一行即可，如 target bin *.db ===================== Git 常用命令 git branch 查看本地所有分支git status 查看当前状态git commit 提交git branch -a 查看所有的分支git branch -r 查看本地所有分支git commit -am “init” 提交并且加注释git remote add origin git@192.168.1.119:ndshowgit push origin master 将文件给推到服务器上git remote show origin 显示远程库origin里的资源git push origin master:developgit push origin master:hb-dev 将本地库与服务器上的库进行关联git checkout –track origin/dev 切换到远程dev分支git branch -D master develop 删除本地库developgit checkout -b dev 建立一个新的本地分支devgit merge origin/dev 将分支dev与当前分支进行合并git checkout dev 切换到本地dev分支git remote show 查看远程库git add .git rm 文件名(包括路径) 从git中删除指定文件git clone git://github.com/schacon/grit.git 从服务器上将代码给拉下来git config –list 看所有用户git ls-files 看已经被提交的git rm [file name] 删除一个文件git commit -a 提交当前repos的所有的改变git add [file name] 添加一个文件到git indexgit commit -v 当你用－v参数的时候可以看commit的差异git commit -m “This is the message describing the commit” 添加commit信息git commit -a -a是代表add，把所有的change加到git index里然后再commitgit commit -a -v 一般提交命令git log 看你commit的日志git diff 查看尚未暂存的更新git rm a.a 移除文件(从暂存区和工作区中删除)git rm –cached a.a 移除文件(只从暂存区中删除)git commit -m “remove” 移除文件(从Git中删除)git rm -f a.a 强行移除修改后文件(从暂存区和工作区中删除)git diff –cached 或 $ git diff –staged 查看尚未提交的更新git stash push 将文件给push到一个临时空间中 git stash pop 将文件从临时空间pop下来git remote add origin git@github.com:username/Hello-World.git git push origin master 将本地项目给提交到服务器中git pull 本地与服务器端同步git push (远程仓库名) (分支名) 将本地分支推送到服务器上去。 git push origin serverfix:awesomebranchgit fetch 相当于是从远程获取最新版本到本地，不会自动mergegit commit -a -m “log_message” (-a是提交所有改动，-m是加入log信息) 本地修改同步至服务器端 ：git branch branch_0.1 master 从主分支master创建branch_0.1分支git branch -m branch_0.1 branch_1.0 将branch_0.1重命名为branch_1.0git checkout branch_1.0/master 切换到branch_1.0/master分支du -hs mkdir WebAppcd WebAppgit inittouch READMEgit add READMEgit commit -m ‘first commit’git remote add origin git@github.com:daixu/WebApp.gitgit push -u origin master 轉自CSDNGit 常用命令 參考Git 基礎]]></content>
      <categories>
        <category>筆記</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python安裝Oracle]]></title>
    <url>%2F2017%2F10%2F18%2FPython%E5%AE%89%E8%A3%9DOracle%2F</url>
    <content type="text"><![CDATA[安裝oracle并使用 Navicat 鏈接oracle 安裝oracle客戶端下載及解壓下載三個安裝包，解壓到E://Oracle/instantclient_12_1中(貌似直接解壓到Oracle就可以了，Oracle目錄需要新建)instantclient-basic-windows.x64-12.1.0.2.0.zipinstantclient-sdk-windows.x64-12.1.0.2.0.zipinstantclient-sqlplus-windows.x64-12.1.0.2.0.zip 添加環境變量及配置文件選擇在上方目錄基礎下新建E://Oracle/network/admin 設置環境變量新增系統環境變量NLS_LANG = AMERICAN_AMERICA.ZHS16GBKTNS_ADMIN = E:\Oracle\network\adminLD_LIBRARY_PATH = E:\Oracle\instantclient_12_1SQLPATH = E:\Oracle\instantclient_12_1追加系統環境變量Path变量结尾加上E:\Oracle\instantclient_12_1 配置文件編寫在admin 目錄下新建一個 tnsnames.ora 的文件編譯文件,按下方格式添加數據庫連接信息（按格式追加就行）123456789NSD01 = #連接名 (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.132.48.70)(PORT = 1903)) ) (CONNECT_DATA = (SERVICE_NAME = nsd01) ) ) python 安裝oraclewindows + R cmd 直接pip install cx-Oracle就好了 不會請百度pip list 查看是否安裝12345C:\Users\Administrator&gt;pip listcassandra-driver (3.11.0)certifi (2017.7.27.1)chardet (3.0.4)cx-Oracle (6.0.2) 測試是否有用cmd 命令下 python123456789101112C:\Users\Administrator&gt;pythonPython 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600 32 bit (Intel)] on win32Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.&gt;&gt;&gt; import cx_oracleTraceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;ImportError: No module named &apos;cx_oracle&apos;&gt;&gt;&gt; import cx_Oracle&gt;&gt;&gt; db = cx_Oracle.connect(&apos;ipcbuuser/ipcbutest@10.142.149.5:1903/SEBUODB&apos;)&gt;&gt;&gt; print (db.version)&gt;&gt;&gt; Navicat連接oracle安裝完成后直接填寫好數據庫信息點擊連接測試,正常情況下應該是連接成功出現上方問題是應為oci文件不版本不符，根據網上的解決方案是去安裝oracle的文件夾下找到oci文件替換然後就出現這個問題，貌似是這個軟件不支持 64位的oracle oci文件 ，所以要去官網下載一個該版本的32位的instantclient-basic-nt-12.1.0.2.0.zip解壓到任意位置將 軟件的oci文件讀取指向該文件夾就好了]]></content>
      <categories>
        <category>工作問題</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自定義異常]]></title>
    <url>%2F2017%2F06%2F12%2F%E8%87%AA%E5%AE%9A%E7%BE%A9%E7%95%B0%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[自定義異常 異常try except通常異常使用是123456try: int('sss')except Exception as e: print('這是一個簡單的異常,異常為:'+str(e))output:這是一個簡單的異常,異常為:invalid literal for int() with base 10: 'sss' finally升級版123456789try: int('sss')except Exception as e: print('這是一個簡單的異常,異常為:'+str(e))finally: print('這裡是最后')output:這是一個簡單的異常,異常為:invalid literal for int() with base 10: 'sss'output:這裡是最后 try else沒有發生異常時觸發123456789101112try: int('1')except Exception as e: print('這是一個簡單的異常,異常為:'+str(e))else: print('沒有異常')finally: print('這裡是最后') output：1output：沒有異常output：這裡是最后 raise返回一個異常123456789101112try: if 1: raise EOFError()except Exception as e: print('這是一個簡單的異常,異常為:'+str(e))else: print('沒有異常')finally: print('這裡是最后') output：這是一個簡單的異常,異常為:output：這裡是最后 自定義異常類創建異常類12345678#繼承Exception類class WeError(Exception): """ 自定義異常 """ def __init__(self,data): Exception.__init__(self,data) #初始化父類 self.data = data 調用定義的異常類12345678910try: if 1: raise WeError('出錯了')except Exception as e: print(str(e))finally: print('結束了') output:出錯了output:結束了]]></content>
      <categories>
        <category>工作問題</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[获取本月日期]]></title>
    <url>%2F2017%2F06%2F09%2F%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[获取本月的所有日期 获取本月日期获取本月一号的时间12345import datetimetoDay = datetime.date.today() #获取当前日期day = toDay.replace(year=2017,month=1,day=1) # 获取2017-1-1thisDay = toDay.replace(day=1) # 获取本月一号 获取本月月底日期12date = datetime.date.today().replace(month=toDay.month+1,day=1) #下個月一號lastDay = date-datetime.timedelta(1) # 下個月一號 減一天 日期列表1234567891011toDay = dt.date.today() #獲取日期if toDay.month &lt; 12: #如果當前月份等於 12 則需要將年加一 monthLastDay = toDay.replace(month=toDay.month+1,day=1) - dt.timedelta(1) # 獲取下個月減一天else: monthLastDay = toDay.replace(year=toDay.year+1,month=1,day=1) -dt.timedelta(1) # 獲取明年一月一號 減一天thisMonth = toDay.replace(day=1) #獲取本月一號dayList = []for i in range(monthLastDay.day): if thisMonth &lt;= monthLastDay: dayList.append(thisMonth) thisMonth += dt.timedelta(1)]]></content>
      <categories>
        <category>工作問題</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[跨域問題解決]]></title>
    <url>%2F2017%2F06%2F07%2F%E8%B7%A8%E5%9F%9F%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%2F</url>
    <content type="text"><![CDATA[今天前后台数据对接的时候，使用put方法是出现了跨域的错误，忙活了好一阵 解决跨域时会先发送一个options请求解决方案安装django-cors-header1pip install django-cors-header 配置settin.py 文件123456789101112131415161718192021222324252627282930313233343536373839404142INSTALLED_APPS = [ ... 'corsheaders'， ... ] MIDDLEWARE_CLASSES = ( ... 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', # 注意顺序 ...)#跨域增加忽略CORS_ALLOW_CREDENTIALS = TrueCORS_ORIGIN_ALLOW_ALL = TrueCORS_ORIGIN_WHITELIST = ( '*')CORS_ALLOW_METHODS = ( 'DELETE', 'GET', 'OPTIONS', 'PATCH', 'POST', 'PUT', 'VIEW',)CORS_ALLOW_HEADERS = ( 'XMLHttpRequest', 'X_FILENAME', 'accept-encoding', 'authorization', 'content-type', 'dnt', 'origin', 'user-agent', 'x-csrftoken', 'x-requested-with', 'Pragma',) 其他方式使用JSONP使用Ajax获取json数据时，存在跨域的限制。不过，在Web页面上调用js的script脚本文件时却不受跨域的影响，JSONP就是利用这个来实现跨域的传输。因此，我们需要将Ajax调用中的dataType从JSON改为JSONP（相应的API也需要支持JSONP）格式。JSONP只能用于GET请求。 直接修改Django中的views.py文件修改views.py中对应API的实现函数，允许其他域通过Ajax请求数据：1234567def myview(_request): response = HttpResponse(json.dumps(&#123;“key”: “value”, “key2”: “value”&#125;)) response[“Access-Control-Allow-Origin”] = “*” response[“Access-Control-Allow-Methods”] = “POST, GET, OPTIONS” response[“Access-Control-Max-Age”] = “1000” response[“Access-Control-Allow-Headers”] = “*” return response 來源: 博客]]></content>
      <categories>
        <category>工作問題</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>django</tag>
        <tag>restful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello Hexo]]></title>
    <url>%2F2017%2F06%2F06%2Fhello-world%2F</url>
    <content type="text"><![CDATA[新建一个Hexo next 样式的博客http://tool.lu/http://tool.lu/favicon/ 添加标签页前面通过修改next主题下的_config.yml文件中的menu选项，可以在主页面的菜单栏添加标签选项，但是此时点击标签，跳转的页面会显示page not found。添加标签页面的具体方法是：1$hexo new page tags 添加文章打開 Git Bash，進入blog 所在文件夾12$hexo new [时间处理] #新建名為`時間處理`的文章INFO Created: D:\Program Files\blog\source\_posts\时间处理.md #反饋信息文章目錄]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>hexo</tag>
        <tag>git</tag>
      </tags>
  </entry>
</search>
